initialise-binding initialise-storing initialise-giving initialise-memos finalise-failing finalise-throwing multithread postpone-after-effect scope
  (collateral
     (bind
        ("i",
         allocate-initialised-variable
           (values,
            decimal-natural
              ("0"))),
      bind
        ("i1",
         allocate-initialised-variable
           (values,
            decimal-natural
              ("0"))),
      bind
        ("main",
         allocate-variable
           (functions
              (tuples
                 ((values)*),
               values)))),
   sequential
     (null,
      null,
      assign
        (bound
           ("main"),
         function closure
           (scope
              (match
                 (given,
                  tuple
                    ( )),
               handle-return
                 (sequential
                    (effect
                       (allocate-index thread-activate thread-joinable thunk closure postpone-after-effect while
                          (is-less
                             (assigned
                                (bound
                                   ("i1")),
                              decimal-natural
                                ("5")),
                           sequential
                             (print
                                (decimal-natural
                                   ("0")),
                              effect
                                (give
                                   (integer-add
                                      (assigned
                                         (bound
                                            ("i1")),
                                       decimal-natural
                                         ("1")),
                                    sequential
                                      (assign
                                         (bound
                                            ("i1"),
                                          given),
                                       given)))))),
                     effect
                       (allocate-index thread-activate thread-joinable thunk closure postpone-after-effect while
                          (is-less
                             (assigned
                                (bound
                                   ("i")),
                              decimal-natural
                                ("10")),
                           sequential
                             (print
                                (decimal-natural
                                   ("1")),
                              effect
                                (give
                                   (integer-add
                                      (assigned
                                         (bound
                                            ("i")),
                                       decimal-natural
                                         ("1")),
                                    sequential
                                      (assign
                                         (bound
                                            ("i"),
                                          given),
                                       given)))))),
                     while
                       (is-less
                          (assigned
                             (bound
                                ("i")),
                           decimal-natural
                             ("15")),
                        sequential
                          (print
                             (decimal-natural
                                ("2")),
                           effect
                             (give
                                (integer-add
                                   (assigned
                                      (bound
                                         ("i")),
                                    decimal-natural
                                      ("1")),
                                 sequential
                                   (assign
                                      (bound
                                         ("i"),
                                       given),
                                    given)))))))))),
      apply
        (assigned
           (bound
              ("main")),
         tuple
           ( ))))